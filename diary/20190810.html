<!DOCTYPE html>
<html lang="ja">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141255839-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-141255839-1');
</script>
<meta charset="utf-8">
<title>Autoware:image_rawの出力</title>
<meta name="viewport" content="width=device-width">
<meta name="keywords" content="">
<meta name="description" content="">
<link rel="stylesheet" type="text/css" href="../css/style.css">
<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/script.js"></script>
<script type="text/javascript" src="../js/jquery.smoothscroll.js"></script>
<script type="text/javascript" src="../js/jquery.scrollshow.js"></script>
<script type="text/javascript" src="../js/jquery.rollover.js"></script>
<script type="text/javascript" src="../js/jquery.slideshow.js"></script>
<!--[if lt IE 9]>
	<script src="js/html5shiv.js"></script>
	<script src="js/css3-mediaqueries.js"></script>
<![endif]-->
</head>
<body>
<div id="contents">
	<div id="sub">
		<header>
			<h1>わかばのマイページ</h1>
			<p class="summary">
			Webページ作成の勉強しながら更新して改善していけたらと思ってまーす。
			</p>
		</header>
		<nav>
			<h3>メニュー<span id="navBtn"><span id="navBtnIcon"></span></span></h3>
			<ul>
				<li><a href="../index.html">ホーム</a></li>
				<li><a href="http://www.mclab.ics.ritsumei.ac.jp">研究室</a></li>
				<li><a href="../diary.html">日記</a></li>
			</ul>
		</nav>
	</div><!-- /#sub -->
	<div id="main">
		<h2>Autoware:image_rawをコードで出力</h2>
		<dl class="info">
		   <dt><span>ソースコード</span></dt>
		   <dd>
				 void image_callback(const sensor_msgs::Image& img_msg)</p>
				 {</p>
				   　　cv::Mat img;</p>
				   　　try {</p>
				     　　　　img = cv_bridge::toCvCopy(img_msg, sensor_msgs::image_encodings::BGR8)->image;</p>
				   　　}</p>
				   　　catch (cv_bridge::Exception& e) {</p>
				    　　　　 ROS_ERROR("cv_bridge exception: %s", e.what());</p>
				   　　}</p>
				   　　cv::imshow("image_raw", img);</p>
				   　　cv::waitKey(1);</p>
				 }
		   </dd>
		   <dt><span>cv::Mat img;</span></dt>
		   <dd>
				 OpenCVでの画像データの定義をしていて変数として定義する。</p>
		   </dd>
			 <dt><span>img = cv_bridge::toCvCopy(img_msg, sensor_msgs::image_encodings::BGR8)->image;</span></dt>
		   <dd>
				 OpenCV用の画像データへの変換を行う。</p>
		   </dd>
			 <dt><span>cv::imshow("image_raw", img);</span></dt>
			 <dt><span>cv::waitKey(1);</span></dt>
		   <dd>
				 cv::imshow(ウィンドウ名, 変数);</p>
				 このコードで新しいウィンドウ上で画像を出力できるものになる。</p>
				 cv::waitKey(時間(ミリ秒));</p>
		   </dd>
			 <dt><span>これから</span></dt>
		   <dd>
				 ROS上でのトピックは同じような関数でPublishできるので他のトピックでの応用が可能。</p>
				 OpenCV上では左上が(0, 0)を取る座標軸となっているのでその座標を考慮すると画像上でも処理ができるようになる。</p>
		   </dd>
		</dl>
	</div><!-- /#main -->
</div><!-- /#contents -->

<footer>
	<div class="footmenu">
		<ul>
			<li><a href="../index.html">HOME</a></li>
			<li><a href="http://www.mclab.ics.ritsumei.ac.jp">LABORATORY</a></li>
			<li><a href="../diary.html">DIARY</a></li>
		</ul>
	</div><!-- /.footmenu -->
	<div class="copyright">Copyright &#169; 2019 - 2019 SITENAME All Rights Reserved.</div><!-- /.copyright -->
</footer>

<div class="totop"><a href="#"><img src="images/totop.png" alt="ページのトップへ戻る"></a></div><!-- /.totop -->
</body>
</html>
